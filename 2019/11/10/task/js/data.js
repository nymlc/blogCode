var tasks = `[{\"tasks\":[],\"jobs\":[],\"jsStack\":[],\"log\":[]},{\"tasks\":[\"script\"],\"jobs\":[],\"jsStack\":[\"script\"],\"log\":[],\"id\":\"0st\"},{\"tasks\":[\"script\"],\"jobs\":[],\"jsStack\":[\"script\"],\"log\":[\"script start\"],\"id\":\"0st\"},{\"tasks\":[\"script\"],\"jobs\":[],\"jsStack\":[\"script\"],\"log\":[\"script start\"],\"id\":\"2st\",\"toast\":\"\"},{\"tasks\":[\"script\"],\"jobs\":[],\"jsStack\":[\"script\"],\"log\":[\"script start\"],\"id\":\"2st\",\"toast\":\"setTimeout 回调函数将会添加至 task 队列中\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[],\"jsStack\":[\"script\"],\"log\":[\"script start\"],\"id\":\"2st\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[],\"jsStack\":[\"script\"],\"log\":[\"script start\"],\"id\":\"6st\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[],\"jsStack\":[\"script\"],\"log\":[\"script start\"],\"id\":\"6st\",\"toast\":\"Promise 回调函数将会添加至 microtask 队列中\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\"],\"jsStack\":[\"script\"],\"log\":[\"script start\"],\"id\":\"6st\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\"],\"jsStack\":[\"script\"],\"log\":[\"script start\"],\"id\":\"12st\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\"],\"jsStack\":[\"script\"],\"log\":[\"script start\",\"script end\"],\"id\":\"12st\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\"],\"jsStack\":[],\"log\":[\"script start\",\"script end\"],\"id\":null},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\"],\"jsStack\":[],\"log\":[\"script start\",\"script end\"],\"id\":null,\"toast\":\"在一个 task 执行结束后，将会执行 microtask\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\"],\"jsStack\":[\"cb2\"],\"log\":[\"script start\",\"script end\"],\"id\":\"7st\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\"],\"jsStack\":[\"cb2\"],\"log\":[\"script start\",\"script end\",\"promise1\"],\"id\":\"7st\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\"],\"jsStack\":[\"cb2\"],\"log\":[\"script start\",\"script end\",\"promise1\"],\"id\":null,\"toast\":\"在第一个 Promise 结束之后，通过链式调用执行了第二个 Promise，同时将回调函数添加至 microtask 队列中\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\",\"cb3\"],\"jsStack\":[\"cb2\"],\"log\":[\"script start\",\"script end\",\"promise1\"],\"id\":null},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb2\",\"cb3\"],\"jsStack\":[],\"log\":[\"script start\",\"script end\",\"promise1\"],\"id\":null,\"toast\":\"当前 microtask 执行完毕，将会执行队列中的下一个 microtask\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb3\"],\"jsStack\":[],\"log\":[\"script start\",\"script end\",\"promise1\"],\"id\":null},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb3\"],\"jsStack\":[\"cb3\"],\"log\":[\"script start\",\"script end\",\"promise1\"],\"id\":\"9st\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[\"cb3\"],\"jsStack\":[\"cb3\"],\"log\":[\"script start\",\"script end\",\"promise1\",\"promise2\"],\"id\":\"9st\"},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[],\"jsStack\":[],\"log\":[\"script start\",\"script end\",\"promise1\",\"promise2\"],\"id\":null},{\"tasks\":[\"script\",\"cb1\"],\"jobs\":[],\"jsStack\":[],\"log\":[\"script start\",\"script end\",\"promise1\",\"promise2\"],\"id\":null,\"toast\":\"现在一个完整的 task 执行完毕，浏览器可能会进行页面重绘\"},{\"tasks\":[\"cb1\"],\"jobs\":[],\"jsStack\":[],\"log\":[\"script start\",\"script end\",\"promise1\",\"promise2\"],\"id\":null},{\"tasks\":[\"cb1\"],\"jobs\":[],\"jsStack\":[\"cb1\"],\"log\":[\"script start\",\"script end\",\"promise1\",\"promise2\"],\"id\":\"3st\"},{\"tasks\":[\"cb1\"],\"jobs\":[],\"jsStack\":[\"cb1\"],\"log\":[\"script start\",\"script end\",\"promise1\",\"promise2\",\"setTimeout\"],\"id\":\"3st\"},{\"tasks\":[\"cb1\"],\"jobs\":[],\"jsStack\":[],\"log\":[\"script start\",\"script end\",\"promise1\",\"promise2\",\"setTimeout\"],\"id\":null},{\"tasks\":[],\"jobs\":[],\"jsStack\":[],\"log\":[\"script start\",\"script end\",\"promise1\",\"promise2\",\"setTimeout\"],\"id\":null},{\"tasks\":[],\"jobs\":[],\"jsStack\":[],\"log\":[\"script start\",\"script end\",\"promise1\",\"promise2\",\"setTimeout\"],\"id\":null,\"toast\":\"该程序执行完毕\"}]`
var code = `console.log('script start');

setTimeout(function cb1() {
      console.log('setTimeout');
}, 0);

Promise.resolve().then(function cb2() {
      console.log('promise1');
}).then(function cb3() {
      console.log('promise2');
});

console.log('script end');`
localStorage.setItem('task--1', JSON.stringify({
    key: 'task--1',
    tasks: JSON.parse(tasks),
    code: code
}))

